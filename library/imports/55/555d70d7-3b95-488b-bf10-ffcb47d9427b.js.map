{"version":3,"sources":["../../../../../assets/script/scene/assets/script/scene/HomeScene.ts"],"names":[],"mappings":";;;;;AAAA;;GAEG;AACH,+CAAyC;AACzC,uDAAqD;AACrD,uCAAiC;AACjC,8CAA0C;AAC1C,mDAA0C;AAC1C,8CAAuC;AAGjC,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAiB;AAGzC;IAAuC,6BAAS;IAAhD;;IAwDA,CAAC;IA5CU,0BAAM,GAAb;QACI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAA;QAC9C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,EAAE,cAAO,eAAK,CAAC,GAAG,CAAC,kBAAI,CAAC,sBAAsB,CAAC,CAAC,CAAA,CAAA,CAAC,CAAC,CAAA;QACtF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,cAAO,eAAK,CAAC,GAAG,CAAC,CAAC,kBAAI,CAAC,uBAAuB,CAAC,EAAE,kBAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAA,CAAA,CAAC,CAAC,CAAA;QAExG,IAAI,CAAC,YAAY,EAAE,CAAA;IACvB,CAAC;IAEM,gCAAY,GAAnB;IAEA,CAAC;IAEO,8BAAU,GAAlB;QAAA,iBASC;QARG,eAAK,CAAC,OAAO,EAAE,CAAA;QACf,IAAI,CAAC,cAAc,EAAE,CAAA;QACrB,mBAAK,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAA;QACvC,IAAI,CAAC,IAAI,CAAC,eAAG,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,IAAS;YAC5C,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,KAAI,CAAC,gBAAgB,EAAE,CAAA;aAC1B;QACL,CAAC,CAAC,CAAA;IACN,CAAC;IAEO,kCAAc,GAAtB;QACI,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC;YACjC,eAAK,CAAC,GAAG,CAAC,kBAAI,CAAC,OAAO,CAAC,CAAC,CAAA;QAC5B,CAAC,EAAE,CAAC,CAAC,CAAA;IACT,CAAC;IAEO,kCAAc,GAAtB;QACI,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAA;YACrC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAA;SAC9B;IACL,CAAC;IAEO,oCAAgB,GAAxB;QACI,eAAK,CAAC,OAAO,EAAE,CAAA;QACf,mBAAK,CAAC,YAAY,CAAC,mBAAmB,EAAE;YACpC,eAAK,CAAC,WAAW,EAAE,CAAA;QACvB,CAAC,CAAC,CAAA;QAEF,IAAI,CAAC,cAAc,EAAE,CAAA;IACzB,CAAC;IArDD;QADC,mBAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;+CACO;IAG3B;QADC,mBAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;uDACe;IAGnC;QADC,mBAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;4CACI;IARP,SAAS;QAD7B,OAAO;OACa,SAAS,CAwD7B;IAAD,gBAAC;CAxDD,AAwDC,CAxDsC,mBAAS,GAwD/C;kBAxDoB,SAAS","file":"","sourceRoot":"../../../../../assets/script/scene","sourcesContent":["/**\n * 主场景\n */\nimport BaseScene from \"../core/BaseScene\"\nimport { autoBind } from \"../core/decorator/AutoBind\"\nimport Utils from \"../util/Utils\"\nimport { UIMgr, Net} from \"../GameManager\"\nimport { i18n } from \"../core/I18nManager\"\nimport { Msg } from \"../net/MsgDefine\";\n\n\nconst {ccclass, property} = cc._decorator\n\n@ccclass\nexport default class HomeScene extends BaseScene {\n    @autoBind(cc.Button)\n    private fightBtn: cc.Button\n\n    @autoBind(cc.Button)\n    private activityFightBtn: cc.Button\n\n    @autoBind(cc.Button)\n    private adBtn: cc.Button\n\n    private _findBattleSche\n\n    public onLoad() {\n        this.bindTouch(this.fightBtn, this.enterHouse)\n        this.bindTouch(this.activityFightBtn, () => {Utils.tip(i18n('非常抱歉!只有尊贵的VIP才有资格进入.'))})\n        this.bindTouch(this.adBtn, () => {Utils.tip([i18n('是你叫我打广告的啊，我从来没听过这样的要求'), i18n('....关注微信公众号极客小厨房')])})\n\n        this.onRegMessage()\n    }\n\n    public onRegMessage() {\n        \n    }\n\n    private enterHouse() {\n        Utils.loading()\n        this.showFindBattle()\n        UIMgr.loadScenePre('scene/BattleScene')\n        this.send(Msg.REQ_JOINHOUSE, {}).then((data: any) => {\n            if (data.result) {\n                this.enterBattleScene()\n            }\n        })\n    }\n\n    private showFindBattle() {\n        this._findBattleSche = this.schedule(()=> {\n            Utils.tip(i18n('匹配中..'))\n        }, 1)\n    }\n\n    private hideFindBattle() {\n        if (this._findBattleSche) {\n            this.unschedule(this._findBattleSche)\n            this._findBattleSche = null\n        }\n    }\n\n    private enterBattleScene() {\n        Utils.loading()\n        UIMgr.pushScenePre('scene/BattleScene', () => {\n            Utils.hideLoading()\n        })\n\n        this.hideFindBattle()\n    }\n}"]}