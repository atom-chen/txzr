{"version":3,"sources":["../../../../../assets/script/scene/assets/script/scene/LanchScene.ts"],"names":[],"mappings":";;;;;AAAA;;GAEG;AACH,+CAAyC;AACzC,uDAAqD;AACrD,8CAAiD;AAEjD,mDAA0C;AAC1C,uCAAkC;AAClC,4CAAyC;AACzC,8CAAuC;AAGjC,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAiB;AAGzC;IAAuC,6BAAS;IADhD;QAAA,qEAkCC;QAhCG,MAAM;QAEE,mBAAa,GAAgB,EAAE,CAAA;;IA8B3C,CAAC;IAtBU,0BAAM,GAAb;QACI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,CAAA;QACpD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,cAAO,eAAK,CAAC,GAAG,CAAC,CAAC,kBAAI,CAAC,MAAM,CAAC,EAAE,kBAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAA,CAAA,CAAC,CAAC,CAAA;QAChF,IAAI,CAAC,YAAY,EAAE,CAAA;IACvB,CAAC;IAEM,gCAAY,GAAnB;QACI,iBAAG,CAAC,MAAM,CAAC,eAAG,CAAC,SAAS,EAAE,UAAA,IAAI;YAC1B,kBAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAA;QACtC,CAAC,CAAC,CAAA;IACN,CAAC;IAEO,iCAAa,GAArB;QACI,iBAAG,CAAC,OAAO,CAAC,sBAAS,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;IAC1D,CAAC;IAEO,kCAAc,GAAtB,UAAuB,IAAI;QACvB,eAAK,CAAC,OAAO,EAAE,CAAA;QACf,mBAAK,CAAC,YAAY,CAAC,iBAAiB,EAAE;YAClC,eAAK,CAAC,WAAW,EAAE,CAAA;QACvB,CAAC,CAAC,CAAA;IACN,CAAC;IA7BD;QADC,QAAQ,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;oDACiB;IAGvC;QADC,mBAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;kDACU;IAG9B;QADC,mBAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;iDACS;IATZ,SAAS;QAD7B,OAAO;OACa,SAAS,CAiC7B;IAAD,gBAAC;CAjCD,AAiCC,CAjCsC,mBAAS,GAiC/C;kBAjCoB,SAAS","file":"","sourceRoot":"../../../../../assets/script/scene","sourcesContent":["/**\n * 登录场景\n */\nimport BaseScene from \"../core/BaseScene\"\nimport { autoBind } from \"../core/decorator/AutoBind\"\nimport { UIMgr, Net, Data } from \"../GameManager\"\nimport { showInScene } from \"../core/helper/LogHelper\"\nimport { i18n } from \"../core/I18nManager\"\nimport Utils from \"../util/Utils\";\nimport { ServerUrl} from \"../GameConfig\";\nimport { Msg } from \"../net/MsgDefine\";\nimport QRBuilder from \"../core/tool/QRBuilder\";\n\nconst {ccclass, property} = cc._decorator\n\n@ccclass\nexport default class HomeScene extends BaseScene {\n    // 预加载\n    @property([cc.Prefab])\n    private preloadPrefab: cc.Prefab[] = []\n\n    @autoBind(cc.Button)\n    private startButton: cc.Button\n\n    @autoBind(cc.Button)\n    private helpButton: cc.Button\n\n    public onLoad() {\n        this.bindTouch(this.startButton, this.connectServer)\n        this.bindTouch(this.helpButton, () => {Utils.tip([i18n('我一充钱'), i18n('快乐七天')])})\n        this.onRegMessage()\n    }\n\n    public onRegMessage() {\n        Net.regMsg(Msg.RES_LOGIN, data => {\n            Data.player.updateSelfPlayer(data)\n        })\n    }\n\n    private connectServer() {\n        Net.connect(ServerUrl, this.enterHomeScene.bind(this))\n    }\n\n    private enterHomeScene(data) {\n        Utils.loading()\n        UIMgr.pushScenePre('scene/HomeScene', () => {\n            Utils.hideLoading()\n        })\n    }\n}"]}