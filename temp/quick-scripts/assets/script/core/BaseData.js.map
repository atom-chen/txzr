{"version":3,"sources":["BaseData.ts"],"names":[],"mappings":";;;;;AAAA,gDAA4C;AAE5C;;GAEG;AAEH;IAAA;QACY,YAAO,GAAU,EAAE,CAAA;IAiC/B,CAAC;IA/BG;;OAEG;IACI,qBAAE,GAAT,UAAU,SAAS,EAAE,QAAQ;QACzB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE,CAAA;SAC/B;QACD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;IAC1C,CAAC;IAED;;OAEG;IACI,uBAAI,GAAX,UAAY,SAAS,EAAE,OAAQ;QAA/B,iBAiBC;QAhBG,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YACzB,IAAM,QAAM,GAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,QAAC,CAAA;YAC3C,QAAM,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,KAAK;gBAClC,IAAI;oBACA,IAAI,KAAK,EAAE;wBACP,KAAK,CAAC,OAAO,CAAC,CAAA;qBACjB;yBAAM;wBACH,kBAAM,CAAC,UAAU,CAAC,CAAA;wBAClB,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,QAAM,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,EAAE,CAAC,CAAC,CAAA;qBAC/D;iBACJ;gBAAC,OAAO,CAAC,EAAE;oBACR,kBAAM,CAAC,sDAAY,CAAG,CAAC,CAAA;oBACvB,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,QAAM,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,EAAE,CAAC,CAAC,CAAA;iBAC/D;YACL,CAAC,CAAC,CAAA;SACL;IACL,CAAC;IACL,eAAC;AAAD,CAlCA,AAkCC,IAAA","file":"","sourceRoot":"../../../../../assets/script/core","sourcesContent":["import { errlog } from \"./helper/LogHelper\";\n\n/**\n * 数据实例基类\n */\n\nexport default abstract class BaseData {\n    private _events: any[] = []\n\n    /**\n     * 监听事件\n     */\n    public on(eventName, callback) {\n        if (!this._events[eventName]) {\n            this._events[eventName] = []\n        }\n        this._events[eventName].push(callback)\n    }\n\n    /**\n     * 触发事件\n     */\n    public emit(eventName, payload?) {\n        if (this._events[eventName]) {\n            const events = [...this._events[eventName]]\n            events.reverse().forEach((event, index) => {\n                try {\n                    if (event) {\n                        event(payload)\n                    } else {\n                        errlog('触发回调事件异常')\n                        this._events[eventName].splice(events.length - 1 - index, 1)\n                    }\n                } catch (e) {\n                    errlog(`触发回调事件异常:${e}`)\n                    this._events[eventName].splice(events.length - 1 - index, 1)\n                }\n            })\n        }\n    }\n}"]}